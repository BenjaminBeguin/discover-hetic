<h2 class="title-second">Update profile</h2>

<section class="update_user_wrapper">
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>

        <%= devise_error_messages! %>

        <div class="field">
            <p class="form_title">Upload an image as avatar</p>
            <div class="file-input-field">
                <div class="file-input" id="avatar_input">
                    <%= f.label :avatar, 'Drag and drop your file or click to upload' %>
                    <%= f.file_field :avatar, autofocus: true %>

                    <i class="fa fa-check-circle upload-avatar-check" aria-hidden="true"></i>
                </div>

                <span class="current-image"></span>
            </div>
        </div>

        <div class="inputs_wrapper">
            <div class="form_left">
                <div class="field">
                    <%= f.label :email, :class => "form_title" %>
                    <%= f.email_field :email, autofocus: true, :class => "form_input" %>
                </div>

                 <div class="field">
                    <%= f.label :name, :class => "form_title" %>
                    <%= f.text_field :name, autofocus: true, :class => "form_input" %>
                </div>

                <div class="field">
                    <%= f.label :desc, "description", :class => "form_title" %>
                    <%= f.text_area :desc, :class => "form_input", :id => "update_form_content"%>
                </div>
            </div>
            <div class="form_right">
                <div class="field">
                    <%= f.label :password, :class => "form_title" , :id => "update_form_new_password"%>
                    <%= f.password_field :password, autocomplete: "off", :class => "form_input", placeholder: "#{@minimum_password_length} characters minimum"%>
                </div>

                <div class="field">
                    <%= f.label :password_confirmation, :class => "form_title" %>
                    <%= f.password_field :password_confirmation, autocomplete: "off", :class => "form_input" %>
                </div>

                <div class="field">
                    <%= f.label :current_password, :class => "form_title"%>
                    <%= f.password_field :current_password, autocomplete: "off", :class => "form_input" %>
                    <p id="update_form_current_password"></p>
                </div>
            </div>
        </div>       

        <!--<% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
            <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
        <% end %>-->

        <div class="actions">
            <%= f.submit "Update" %>
        </div>
        <div class="additionnals_links">
            <%= link_to "cancel your account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete %>
        </div>
    <% end %>
</section>



